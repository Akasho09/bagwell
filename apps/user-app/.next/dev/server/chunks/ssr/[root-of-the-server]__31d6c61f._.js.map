{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/akashmalik/Desktop/hope/mainApp/packages/supabase/index.ts"],"sourcesContent":["import { createClient, SupabaseClient } from \"@supabase/supabase-js\";\n\nexport function createSupabaseClient(\n  url: string,\n  anonKey: string\n): SupabaseClient {\n  if (!url || !anonKey) {\n    throw new Error(\"Supabase env vars missing\");\n  }\n\n  return createClient(url, anonKey);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,qBACd,GAAW,EACX,OAAe;IAEf,IAAI,CAAC,OAAO,CAAC,SAAS;QACpB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAA,8LAAY,EAAC,KAAK;AAC3B"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/akashmalik/Desktop/hope/mainApp/apps/user-app/lib/sups.ts"],"sourcesContent":["import { createSupabaseClient } from \"@repo/supabase/supa\";\n\nexport const supabase = createSupabaseClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,qJAAoB"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/akashmalik/Desktop/hope/mainApp/apps/user-app/lib/upload.ts"],"sourcesContent":["import { supabase } from \"./sups\";\n\nexport async function uploadImage(\n  file: File,\n  category: string\n): Promise<string> {\n  const ext = file.name.split(\".\").pop();\n  const fileName = `${crypto.randomUUID()}.${ext}`;\n  const path = `${category}/${fileName}`;\n\n  const { error } = await supabase.storage\n    .from(\"imagess\")\n    .upload(path, file);\n\n  if (error) throw error;\n\n  return path; // ðŸ‘ˆ store this in DB\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,YACpB,IAAU,EACV,QAAgB;IAEhB,MAAM,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;IACpC,MAAM,WAAW,GAAG,OAAO,UAAU,GAAG,CAAC,EAAE,KAAK;IAChD,MAAM,OAAO,GAAG,SAAS,CAAC,EAAE,UAAU;IAEtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,8IAAQ,CAAC,OAAO,CACrC,IAAI,CAAC,WACL,MAAM,CAAC,MAAM;IAEhB,IAAI,OAAO,MAAM;IAEjB,OAAO,MAAM,sBAAsB;AACrC"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/akashmalik/Desktop/hope/mainApp/apps/user-app/lib/saveInDb.ts"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@repo/db/client\";\n\nexport async function createImage(data: {\n  category: string;\n  description?: string;\n  imagePath: string;\n}) {\n  return prisma.image.create({\n    data\n  });\n}\n"],"names":[],"mappings":";;;;;;;MAIsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/akashmalik/Desktop/hope/mainApp/apps/user-app/components/upload.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { uploadImage } from \"../lib/upload\";\nimport { createImage } from \"../lib/saveInDb\";\n\nexport default function ImageUpload() {\n  const [file, setFile] = useState<File | null>(null);\n  const [category, setCategory] = useState(\"nature\");\n  const [description, setDescription] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function handleUpload() {\n    if (!file) return alert(\"Select an image\");\n\n    try {\n      setLoading(true);\n\n      const imagePath = await uploadImage(file, category);\n\n      await createImage({\n        category,\n        description,\n        imagePath,\n      });\n\n      alert(\"Image uploaded successfully!\");\n      setFile(null);\n      setDescription(\"\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Upload failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10 rounded-xl bg-white p-6 shadow-lg border\">\n      <h2 className=\"text-2xl font-semibold mb-6 text-gray-800\">\n        Upload Image\n      </h2>\n\n      {/* Category */}\n      <label className=\"block text-sm font-medium text-gray-600 mb-1\">\n        Category\n      </label>\n      <select\n        value={category}\n        onChange={(e) => setCategory(e.target.value)}\n        className=\"w-full mb-4 rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n      >\n        <option value=\"nature\">Nature</option>\n        <option value=\"tech\">Tech</option>\n        <option value=\"people\">People</option>\n      </select>\n\n      {/* Description */}\n      <label className=\"block text-sm font-medium text-gray-600 mb-1\">\n        Description\n      </label>\n      <textarea\n        placeholder=\"Image description\"\n        value={description}\n        onChange={(e) => setDescription(e.target.value)}\n        rows={3}\n        className=\"w-full mb-4 rounded-md border px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-green-500\"\n      />\n\n      {/* File Input */}\n      <label className=\"block text-sm font-medium text-gray-600 mb-1\">\n        Image File\n      </label>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={(e) => setFile(e.target.files?.[0] || null)}\n        className=\"w-full mb-4 text-sm file:mr-4 file:rounded-md file:border-0 file:bg-green-100 file:px-4 file:py-2 file:text-green-700 hover:file:bg-green-200\"\n      />\n\n      {/* Button */}\n      <button\n        onClick={handleUpload}\n        disabled={loading}\n        className=\"w-full rounded-md bg-green-600 py-2 text-white font-medium hover:bg-green-700 disabled:cursor-not-allowed disabled:opacity-60\"\n      >\n        {loading ? \"Uploading...\" : \"Upload\"}\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,eAAe;QACb,IAAI,CAAC,MAAM,OAAO,MAAM;QAExB,IAAI;YACF,WAAW;YAEX,MAAM,YAAY,MAAM,IAAA,mJAAW,EAAC,MAAM;YAE1C,MAAM,IAAA,iLAAW,EAAC;gBAChB;gBACA;gBACA;YACF;YAEA,MAAM;YACN,QAAQ;YACR,eAAe;QACjB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAK1D,8OAAC;gBAAM,WAAU;0BAA+C;;;;;;0BAGhE,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gBAC3C,WAAU;;kCAEV,8OAAC;wBAAO,OAAM;kCAAS;;;;;;kCACvB,8OAAC;wBAAO,OAAM;kCAAO;;;;;;kCACrB,8OAAC;wBAAO,OAAM;kCAAS;;;;;;;;;;;;0BAIzB,8OAAC;gBAAM,WAAU;0BAA+C;;;;;;0BAGhE,8OAAC;gBACC,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gBAC9C,MAAM;gBACN,WAAU;;;;;;0BAIZ,8OAAC;gBAAM,WAAU;0BAA+C;;;;;;0BAGhE,8OAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;gBAChD,WAAU;;;;;;0BAIZ,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,UAAU,iBAAiB;;;;;;;;;;;;AAIpC"}}]
}